**架构师**
规划产品架构，估算时间和人员，安排人员，协调人员工作，技术风险把控，技术架构规划，还要和项目内外各种人沟通


**按职责分**
1.品架构师：需要和运营部门确定PV量等等，确定产品的功能需求，模块划分，找项目经理确定开发相关人员配备
2.开发架构师：公共组件，承担海量数据处理，
3.运维架构师：网络、存储、服务器等

**按工作分**
1.普通架构师
2.极客型架构师：技术牛人
3.助人型架构师：帮助团队其它人，偏管理
4.扫地僧架构师：全局技术指导
5.布道型架构师：某一领域，推动技术主张

**关注点**
1.功能
2.非功能
3.团队组织与管理
4.产品运营
5.产品未来：技术趋势，公司战略目标，个人/团队的发展方向，产品前景

**架构师级别**
1.技术好，管理好，这是最好的
2.技术不好，管理好
3.技术好，管理不好
4.技术不好，管理不好


**推动架构落地**
1.提出问题，针对问题，不要批评别人
2.简化别人的开发，提升别人的性能
3.别人提出问题时，不合理时，就找借口等几天再处理，或说开会讨论等等，合理的问题就要及时出方案等等


**架构师的领导艺术**
1.发掘每个人的潜能，让大家热爱我们的产品
2.通过做某个软件，能不能把技术提升
3.对架构规划，并不一定要个人完成所有代码，尽量大家都参与，让别人也有成就感
4.文档及时更新，让实习生、刚工作的人更新等等
5.学会妥协，不要企图证明自己是对的，是做软件的，不是证明自己的，错了及时改正
6.接受别人的反对的意见，互相分享考虑技术的关键点
7.项目结束时，项目每个人都有成长
8.带着弹性的蓝图和计划
9.和团队一起工作


**架构设计的目的**
**一、误区**
1.一味的追求高架构，影响现有的进度等等
2.脱离业务而强调技术，项目容易走偏
3.有的问题可能不需要技术解决

**二、目的**
1.应对软件系统复杂度
2.尽量不要中断服务
3.高性能复杂度解决：拆分系统。
4.高可用复杂度解决：备份冗余
5.高扩张复杂度解决：正确预测变化，完美封装变化
6.成本，安全，规模等等。

**架构设计的流程**
1.识别复杂度
2.设计方案
3.细化方案

**架构设计的原则**
1.选择最先进技术？还是选择团队最擅长的技术？
2.合适原则，时间，资源，资金，人员等限制
3.简单原则，需要经常参考大公司的方案
4.演化原则，软件要拥抱变化，给软件一个发展演进的空间，根据业务及使用场景的变化
5.快速落地，根据当前业务状态去做，然后慢慢的演化到高级别
6.不要贪大求全，不要照搬大公司的方案

**大型网站的特点**
1.高并发、大流量
2.高可用
3.海量数据
4.用户分布广、网络情况复杂
5.安全环境复杂
6.需求变化多端
7.演进式发展（非一蹴而就）

**架构演进阶段**
不是所有网站都是如下演进，不要害怕架构复杂，业务复杂，技术也会复杂
1.单台服务器：应用程序+数据库+文件， 
 ![[演进初始.png]]
2.三台服务器：应用程序服务器，数据库服务器，文件服务器，单台服务器资源有压力时
 **![[演进服务器拆分.png]]**
3.三台服务器+缓存（一种是应用内部、一种是缓存服务器），数据读取频繁时
 ![[演进缓存.png]]
4.应用服务器做集群（负载均衡）+缓存+数据库服务器+文件服务器，应用访问有压力时
 ![[演进集群.png]]
5.数据库有压力时，出现瓶颈时，可用myCat，ShardingJDBC
 ![[演进数据库读写.png]]
6.加速网站的访问速度+减少服务器的压力，nginx是反向代理和负载均衡都可用，CDN和反向代理本质上都是缓存，离用户最近的节点取缓存的数据给用户
 ![[演进CDN.png]]
7.用户缓存到多台服务器，订单缓存到多台服务器
 ![[演进分布式.png]]
8.把服务进行拆分，A和B之间可以通过消息队列或RPC进行通信，
 ![[演进服务拆分.png]]

**系统的衡量指标**
1.性能
吞吐量：tps，qps（不能横向比较，纵向比）
并发数：宽泛。并发用户数，连接数，请求数，线程数。
平均响应时间：请求发出，响应结束。
阿姆达尔定理：
加速比：Rm=Told/Tnew
增强比例：p=模块/系统
T’new = T’old * [(1-p) + p/Rm]。
2.可用性
1.什么是可用性？ 规定的时间内，不发生故障的概率。
固有可靠性>使用可靠性
消除单点依赖/集群
将串联改成并联/冗余
2.影响可用性的因素？
3.如何优化可用性？
可用度：Reliable(0)=1 R(+无穷)=0。失效概率：F（0）=0,F(+无穷)=1 正好互补。
服务联接：串联（可靠性的乘积），并联[1-（1-r1）*（1-r2）],冗余。
并联>冗余>串联

3.伸缩性，是否影响原来的服务器，原来的服务是否受到影响
应用服务器：
缓存服务器：新服务器已加载原有的缓存数据，或部分服务访问新缓存
数据库服务器：对数据库进行分库分表，新数据库只保存增量数据或部分数据，或新业务的数据在新库中，可以使用NoSQL数据库
4.扩展性
关注功能性需求
做法：
事件驱动：消息队列（两个服务之间功能互相调用）
分布式：有些业务可以独立开发部署了，新功能可以复用以前的服务，
5.安全性
保证网站不受攻击，数据不被窃取
现有的、潜在的风险，是否有应对策略
Token是否正常
是否有爬虫
















